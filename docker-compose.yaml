name: nio-lab
services:
  nio-server:
    image: tiktuzki/nio-server:latest
    container_name: nio-server
    ports:
      - "80:8080"
      - "8080:8080"
      - "9090:9090"
    environment:
      - JAVA_OPTS=--enable-preview
    volumes:
      - ./nio-server/config:/workspace/config
      - ./nio-server/.aws:/root/.aws
      - ./nio-server/log:/workspace/log

  nio-server-arm:
    image: tiktuzki/nio-server-arm:latest
    container_name: nio-server
    ports:
      - "80:8080"
      - "8080:8080"
      - "9090:9090"
    environment:
      - JAVA_OPTS=--enable-preview
    volumes:
      - ./nio-server/config:/workspace/config
      - ./nio-server/.aws:/root/.aws
      - ./nio-server/log:/workspace/log

  nio-client:
    image: tiktuzki/nio-client:latest
    container_name: nio-client
    ports:
      - "80:8080"
      - "8080:8080"
    environment:
      - JAVA_OPTS=--enable-preview
    volumes:
      - ./nio-client/config:/workspace/config
      - ./nio-client/log:/workspace/log
      -
  nio-client-arm:
    image: tiktuzki/nio-client-arm:latest
    container_name: nio-client
    ports:
      - "80:8080"
      - "8080:8080"
    environment:
      - JAVA_OPTS=--enable-preview
    volumes:
      - ./nio-client/config:/workspace/config
      - ./nio-client/log:/workspace/log